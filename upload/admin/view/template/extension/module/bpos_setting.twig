{{ header }}
<style type="text/css">
	h6 {
		line-height: 1.3em;
	}

	.panel-body {
		position: relative;
	}

	div.note-editor.note-frame.panel.panel-default{
		margin-bottom: 0px;
	}

	#button-save {
		position: absolute;
		right: 10px;
		top: 9px;
	}

	.help {
		color: #888;
		font-weight: normal;
		font-size: 11px;
		display: block;
		margin-top: 3px;
		margin-bottom: 10px;
		font-style: italic;
	}

	.marker-down {
		width: 0px;
		height: 0px;
		border-left: 5px solid transparent;
		border-right: 5px solid transparent;
		border-top: 5px solid #2f2f2f;
		position: absolute;
		z-index: 999;
		right: -7px;
		top: 16px;
	}

	.shortcode-name {
		padding: 2px 4px;
		font-size: 90%;
		color: #fff;
		background-color: #333;
		border-radius: 2px;
		box-shadow: inset 0 -1px 0 rgb(0 0 0 / 25%);
		display: table;
		font-weight: bold;
	}

	#affiliate {
		margin: 10px 0 15px 0;
	}

	@media only screen and (max-width: 600px) {
		.panel-left {
			min-width: unset !important;
			width: 80px;
		}

		.panel-wrapper .panel-left .setting-header {
			padding: 0;
		}

		.setting-header {
			opacity: 0;
			padding: 0;
		}

		.img-thumbnail img{
			width:100%;
		}
	}
</style>

{{ column_left }}

<div id="content">
	<div class="page-header">
		<div class="container-fluid">
			<h1>{{ heading_title }}</h1>
			<ul class="breadcrumb">
				{% for breadcrumb in breadcrumbs %}
				<li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
				{% endfor %}
			</ul>

			<div class="pull-right">
				<a target="_blank" class="btn btn-info btn-sm" href="{{ ticket_link }}"><i class="fa fa-life-ring"></i> {{text_raise_ticket}}</a>

				<a target="_blank" class="btn btn-danger btn-sm" href="{{ doc_link }}"><i class="fa fa-book"></i> {{text_documentation}}</a>
			</div>
		</div>
	</div>

	<div class="container-fluid">
		{% if error_warning %}
		<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_permission }}
			<button type="button" class="close" data-dismiss="alert">&times;</button>
		</div>
		{% endif %}

		{% if success %}
		<div class="alert alert-success"><i class="fa fa-check-circle"></i> {{ success }}
			<button type="button" class="close" data-dismiss="alert">&times;</button>
		</div>
		{% endif %}


		<form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-basel" class="form-horizontal">

			<div class="panel-wrapper">

				<div class="panel-left">
					<div class="setting-header">v {{ version }}</div>
					<ul class="menu list-unstyled">
						<li class="active">
							<a data-toggle="tab" href="#tab-general">
								<i class="fa fa-cog fa-fw"></i>
								<span class="hidden-xs">{{ tab_general }}</span></a>
						</li>
						<!--
<li>
<a data-toggle="tab" href="#tab-translation">
<i class="fa fa-language"></i>
<span class="hidden-xs">{{ tab_translation }}</span></a>
</li>
<li>
<a data-toggle="tab" href="#tab-advance">
<i class="fa fa-gears fw"></i>
<span class="hidden-xs">{{ tab_advance }}</span></a>
</li>
-->
						<li>
							<a data-toggle="tab" href="#tab-help">
								<i class="fa fa-question-circle"></i>
								<span class="hidden-xs">{{ tab_help }}</span></a>
						</li>

					</ul>
				</div><!-- .panel-left ends -->

				<div class="panel-right">
					<div class="store-header">
						<div class="pull-right">
							<button type="submit" form="form-basel" data-toggle="tooltip" title="{{ button_save }}"
									class="btn btn-primary">{{ button_save }}
							</button>
						</div>
					</div>


					<div class="main-content">
						<div class="tab-content">

							<div class="tab-pane active" id="tab-general">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-status">{{ entry_status }}</label>
									<div class="col-sm-9">
										<input {% if status %} checked {% endif %}
											   data-off-label="{{ text_disabled }}"
											   data-on-label="{{ text_enabled }}" type="checkbox" name="status" value="1" data-control="checkbox">
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="color_scheme">{{ entry_whatsapp_number  }}</label>
									<div class="col-sm-9" style="max-width: 300px">
										<div class="input-group colorpicker-component">
											<span class="input-group-addon" id="country-code">62</span>
											<input id="whatsapp-number" type="text" name="whatsapp_number" value="{{ whatsapp_number }}" class="form-control">
										</div>

										<input type="hidden" name="country_code" value="{{ country_code }}">
									</div>
								</div>
							</div>

							<div class="tab-pane" id="tab-help">
								<div id="license"></div>
								<div id="support"></div>
								<script type="text/javascript">
									$('#support').load('index.php?route=common/hp_validate/support&user_token={{ user_token }}');
									$('#license').load('index.php?route=common/hp_validate/license&user_token={{ user_token }}&code={{ extension_code }}&version={{ version }}');
								</script>
							</div>



						</div>



					</div> <!-- .main-content ends -->

				</div> <!-- panel-right ends -->

			</div>
		</form>
	</div> <!-- content ends -->

</div>

<script>
$(document).ready(function(){
	var code = $('#country-code').text().trim();

	$('input[name="country_code"]').val(code);
});
</script>


<script>
	$("#upgrade-database").click(function () {
		$("#upgrade-database").button('loading');
		$.get('index.php?route=extension/module/hpcls/patch&user_token={{ user_token }}', function (data) {
			if (data['success']) {
				$("#upgrade-database").button('reset');
				$("<div class='alert alert-success slideUp'><i class='fa fa-check-circle'></i> {{ text_success_installed }}<button type='button' class='close' data-dismiss='alert'>&times;</button></div>").insertBefore(".panel.panel-default");
			}
		})
	});



	$(document).ready(function () {

		$.get("https://hpwebdesign.{{extension_type}}/index.php?route=common/extension/version&code={{ extension_code }}&oc=3.0.x.x", function (data, status) {
			const version = "{{ version }}".replace(/\D/g, '');
			const latest_version = data.replace(/\D/g, '');
			if (version < latest_version) {
				$('form').parent().prepend(`<div class="alert alert-danger">
<i class="fa fa-exclamation-circle"></i>
{{ text_upgrade_version }}
	</div>`);
			}
		});

		$('#language a:first').tab('show');

		if ($.fn.checkboxpicker) {
			$('[data-control=checkbox]').checkboxpicker({onClass: 'btn-info'});
			$('.btn-group .btn').addClass('btn-sm');
		}

	});

</script>

{{ footer }}
